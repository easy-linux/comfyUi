# ะฃััะฐะฝะพะฒะบะฐ ComfyUI ะฝะฐ ะปะพะบะฐะปัะฝัะน ะบะพะผะฟัััะตั

## ะะพะดะณะพัะพะฒะบะฐ

- ัััะฐะฝะพะฒะธัะต Python 3.10, ะดััะณะธะต ะฒะตััะธะธ ะผะพะณัั ะฝะต ะฟะพะดะดะตัะถะธะฒะฐัััั, ะฐ ะผะพะณัั ะธ ะฟะพะดะดะตัะถะธะฒะฐัััั ;)
- ัััะฐะฝะพะฒะธัะต git
- ะดะปั macOS ะฒะตััะธั ะพะฟะตัะฐัะธะพะฝะฝะพะน ัะธััะตะผั 10.15 ะธะปะธ ะฝะพะฒะตะต
- ะถะตะปะฐัะตะปัะฝะพ ะธะผะตัั ะดะธัะบัะตัะฝัั ะบะฐััั NVidia ะธะปะธ Apple Silicon ะดะปั ััะบะพัะตะฝะธั ะณะตะฝะตัะฐัะธะธ, ะฝะพ ะฒ ะฟัะธะฝัะธะฟะต ะดะพะปะถะฝะพ ัะฐะฑะพัะฐัั ะธ ะฝะฐ CPU

## ะฃััะฐะฝะพะฒะบะฐ

### ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน:

```
git clone https://github.com/comfyanonymous/ComfyUI.git
```

### ะะตัะตะนะดะธัะต ะฒ ะฟะฐะฟะบั ะฟัะพะตะบัะฐ

```
cd ComfyUI
```

### ะกะพะทะดะฐะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต

```
python3.10 -m venv venv
```

### ะะบัะธะฒะธััะนัะต ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต

ะะพะผะฐะฝะดะฐ ะดะปั Mac ะธ Linux:
```
source venv/bin/activate
```


### ะะฑะฝะพะฒะธัะต pip ะดะพ ะฟะพัะปะตะดะฝะตะน ะฒะตััะธะธ ะธ ัััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ:

```
pip install --upgrade pip

pip install -r requirements.txt
```



### ะะฐัััะพะนัะต ะฟะพะดะดะตัะถะบั ััะบะพัะตะฝะธั (ะพะฟัะธะพะฝะฐะปัะฝะพ)

ะะปั ััะบะพัะตะฝะธั ะณะตะฝะตัะฐัะธะธ ะธะทะพะฑัะฐะถะตะฝะธะน ัะตะบะพะผะตะฝะดัะตััั ัััะฐะฝะพะฒะธัั ะทะฐะฒะธัะธะผะพััะธ ะดะปั ัะฐะฑะพัั ั GPU.

ะัะปะธ ั ะฒะฐั Apple Silicon (M1/M2...), ัััะฐะฝะพะฒะธัะต PyTorch ั ะฟะพะดะดะตัะถะบะพะน Metal:

```
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cpu
```

ะัะปะธ ั ะฒะฐั ะดะธัะบัะตัะฝะฐั NVIDIA GPU, ัััะฐะฝะพะฒะธัะต PyTorch ั ะฟะพะดะดะตัะถะบะพะน CUDA:

```
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
```

### ะะฐะฟัััะธัะต ComfyUI

ะะฐะฟัััะธัะต ัะตัะฒะตั:

```
python main.py --force-fp32
```


ะะพัะปะต ะทะฐะฟััะบะฐ ะฒั ัะฒะธะดะธัะต ัะพะพะฑัะตะฝะธะต, ััะพ ัะตัะฒะตั ัะฐะฑะพัะฐะตั. ะะฑััะฝะพ ะธะฝัะตััะตะนั ะดะพัััะฟะตะฝ ะฟะพ ะฐะดัะตัั:

```
http://127.0.0.1:8188
```

### (ะะฟัะธะพะฝะฐะปัะฝะพ) ะฃััะฐะฝะพะฒะธัะต ะผะพะดะตะปะธ

ะกะบะฐัะฐะนัะต ะผะพะดะตะปะธ ะธ ะฟะพะผะตััะธัะต ะธั ะฒ ะฟัะฐะฒะธะปัะฝัั ะฟะฐะฟะบั:

#### ะะตะบะพะผะตะฝะดัะตะผัะต ะผะพะดะตะปะธ

##### *ะะพะดะตะปะธ ะณะตะฝะตัะฐัะธะธ*, ะธั ะฝัะถะฝะพ ัะฐะทะผะตัะฐัั ะฒ ะฟะฐะฟะบะต
```
models/checkpoints
```
ะฃะฝะธะฒะตััะฐะปัะฝะฐั ะผะพะดะตะปั Deliberate v6

https://huggingface.co/XpucT/Deliberate/blob/main/Deliberate_v6.safetensors

ะะพะดะตะปั ะดะปั ะณะตะฝะตัะฐัะธะธ ัะตะปะพะฒะตะบะพะฟะพะดะพะฑะฝัั ะถะธะฒะพัะฝัั Midgard Pony

https://civitai.com/models/470287?modelVersionId=561310

ะกัะฐะฝะดะฐััะฝะฐั ัะฐััะพ ะธัะฟะพะปัะทัะตะผะฐั ะผะพะดะตะปั

https://huggingface.co/stabilityai/stable-diffusion-xl-base-1.0/resolve/main/sd_xl_base_1.0.safetensors

Refiter

https://huggingface.co/stabilityai/stable-diffusion-xl-refiner-1.0/resolve/main/sd_xl_refiner_1.0.safetensors

##### *ะะพะดะตะปะธ ะดะปั UpScale* - ัะฒะตะปะธัะตะฝะธั ัะฐะทะผะตัะฐ/ะบะฐัะตััะฒะฐ ะธะทะพะฑัะฐะถะตะฝะธั, ะธั ะฝัะถะฝะพ ัะฐะทะผะตัะฐัั ะฒ ะฟะฐะฟะบะต
```
models/upscale_models
```
ะฃะฝะธะฒะตััะฐะปัะฝะฐั ะผะพะดะตะปั

https://huggingface.co/gemasai/4x_NMKD-Superscale-SP_178000_G/raw/main/4x_NMKD-Superscale-SP_178000_G.pth

### ะะฒัะพะผะฐัะธะทะธััะนัะต ะทะฐะฟััะบ (ะพะฟัะธะพะฝะฐะปัะฝะพ)
    
ะงัะพะฑั ะฝะต ะทะฐะฟััะบะฐัั ComfyUI ะฒัััะฝัั ะบะฐะถะดัะน ัะฐะท cะพะทะดะฐะนัะต shell-ัะบัะธะฟั (ะดะปั Mac ะธ Linux):

```
echo 'cd ~/ComfyUI && source venv/bin/activate && python main.py' > start_comfyui.sh
chmod +x start_comfyui.sh
```


### ะะฐะฟััะบะฐะนัะต ัะตัะฒะตั, ะฒัะฟะพะปะฝัั ัะบัะธะฟั:

```
./start_comfyui.sh
```

ะะพัะพะฒะพ!

# ะะพะปะตะทะฝัะต ัััะปะบะธ ะฟะพ ัะตะผะต:

## ะณะดะต ะผะพะถะฝะพ ัะบะฐัะฐัั ะณะพัะพะฒัะต workflow

https://rundiffusion.com/comfyui-workflows

https://comfyworkflows.com/

https://github.com/hashmil/comfyUI-workflows

https://github.com/cubiq/ComfyUI_Workflows

https://openart.ai/workflows


# ะกัะฐะฒะฝะธัะตะปัะฝะฐั ัะฐะฑะปะธัะฐ ะฟะพะฟัะปััะฝัั ััะผะฟะปะตัะพะฒ ะฒ ComfyUI:

<table border="1">
<tr>
<th>ะกัะผะฟะปะตั</th><th>ะะตัะพะด</th><th>ะกะบะพัะพััั</th><th>ะะตัะฐะปะธะทะฐัะธั</th><th>ะะฐัะธะฐัะธะฒะฝะพััั</th><th>ะัะพะฑะตะฝะฝะพััะธ</th><tr>
<tr><td>Euler</td><td>ะะตัะตัะผะธะฝะธัะพะฒะฐะฝะฝัะน (ODE)</td><td>๐ ะัััััะน</td><td>๐ฏ ะฅะพัะพัะฐั</td><td>๐ ะะธะทะบะฐั</td><td>ะงะตัะบะธะต, ััะฐะฑะธะปัะฝัะต ัะตะทัะปััะฐัั</td></tr>
<tr><td>Euler a</td><td>ะกัะพัะฐััะธัะตัะบะธะน (Ancestral)</td><td>โก ะััััะตะต ััะตะดะฝ.</td><td>๐ญ ะกัะตะดะฝัั</td><td>	๐๐ ะััะต</td><td>ะะพะปะตะต ะบัะตะฐัะธะฒะฝัะต ะธ โะถะธะฒัะตโ ะธะทะพะฑัะฐะถะตะฝะธั</td></tr>
<tr><td>DPM++ 2M Karras</td><td>ะะตัะตัะผะธะฝะธัะพะฒะฐะฝะฝัะน (ODE)	</td><td>๐ ะัะตะฝั ะฑัััััะน</td><td>	๐ฏ ะััะพะบะฐั</td><td>	๐ ะะธะทะบะฐั</td><td>	ะฅะพัะพัะพ ัะพััะฐะฝัะตั ะดะตัะฐะปะธ, ะฟะพะฟัะปััะตะฝ ะฒ SDXL</td></tr>
<tr><td>DPM++ SDE Karras</td><td>	ะกัะพัะฐััะธัะตัะบะธะน (SDE)</td><td>	๐ ะกัะตะดะฝะธะน</td><td>	๐ญ ะกัะตะดะฝัั</td><td>	๐๐ ะััะต</td><td>	ะัะณะบะธะต ัะตะบััััั, ะฟะพะดัะพะดะธั ะดะปั ััะดะพะถะตััะฒะตะฝะฝัั ะธะทะพะฑัะฐะถะตะฝะธะน</td></tr>
<tr><td>DPM++ 2M SDE Karras	</td><td>ะะพะผะฑะธะฝะธัะพะฒะฐะฝะฝัะน (SDE+ODE)</td><td>	๐ ะกัะตะดะฝะธะน</td><td>	๐ฏ ะััะพะบะฐั</td><td>	๐ ะกัะตะดะฝัั	</td><td>ะัะปะธัะฝัะน ะฑะฐะปะฐะฝั ะบะฐัะตััะฒะฐ ะธ ัะบะพัะพััะธ</td></tr>
<tr><td>Heun</td><td>	ะฃะปัััะตะฝะฝัะน ะผะตัะพะด ะญะนะปะตัะฐ</td><td>	โก ะััััะตะต ััะตะดะฝ.</td><td>	๐ญ ะกัะตะดะฝัั</td><td>	๐ ะกัะตะดะฝัั</td><td>	ะะพะผะฟัะพะผะธัั ะผะตะถะดั ัะตัะบะพัััั ะธ ะฟะปะฐะฒะฝะพัััั</td></tr>
<tr><td>LMS</td><td>	ะะตัะตัะผะธะฝะธัะพะฒะฐะฝะฝัะน (ODE)</td><td>	๐ ะกัะตะดะฝะธะน</td><td>	๐ฏ ะััะพะบะฐั</td><td>	๐ ะะธะทะบะฐั	</td><td>ะฅะพัะพั ะดะปั ัะตะทะบะธั ะธ ัะตัะบะธั ะธะทะพะฑัะฐะถะตะฝะธะน</td></tr>
<tr><td>LMS Karras</td><td>	ะฃะปัััะตะฝะฝัะน LMS</td><td>	โก ะััััะตะต ััะตะดะฝ.</td><td>	๐ฏ ะััะพะบะฐั</td><td>	๐ ะะธะทะบะฐั</td><td>	ะงะตัะบะธะต ะบะพะฝัััั, ัะพัะพัะพ ะฟะพะดัะพะดะธั ะดะปั ะดะตัะฐะปะตะน</td></tr>
<tr><td>DDIM</td><td>	ะกัะพัะฐััะธัะตัะบะธะน (SDE)</td><td>	โก ะััััะตะต ััะตะดะฝ.</td><td>	๐ญ ะกัะตะดะฝัั	</td><td>๐๐ ะััะต</td><td>	ะะปะฐะดะบะธะต ัะตะทัะปััะฐัั, ัะพัะพั ะดะปั ะฐะฝะธะผะฐัะธะธ</td></tr>
<tr><td>PLMS	</td><td>ะฃะปัััะตะฝะฝัะน ะผะตัะพะด ะะฐะฝัะพัะฐ	</td><td>๐ ะัััััะน</td><td>	๐ญ ะกัะตะดะฝัั</td><td>	๐ ะกัะตะดะฝัั</td><td>	ะะฐะปะฐะฝั ัะบะพัะพััะธ ะธ ะบะฐัะตััะฒะฐ</td></tr>
<tr><td>UniPC</td><td>	ะฃะฝะธะฒะตััะฐะปัะฝัะน ะฟัะพะณะฝะพะทะธััััะธะน ะบะพััะตะบัะพั</td><td>	๐ ะกัะตะดะฝะธะน	</td><td>๐ฏ ะััะพะบะฐั	</td><td>๐ ะกัะตะดะฝัั</td><td>	ะฅะพัะพัะธะน ะฒัะฑะพั ะดะปั ัะปะพะถะฝัั ััะตะฝ</td></tr>

</table>
ะะฐะบะพะน ััะผะฟะปะตั ะฒัะฑัะฐัั?

โ ะะปั ัะบะพัะพััะธ: Euler, DPM++ 2M Karras, PLMS

โ ะะปั ะบะฐัะตััะฒะฐ: DPM++ 2M SDE Karras, LMS Karras, UniPC

โ ะะปั ะฒะฐัะธะฐัะธะฒะฝะพััะธ: Euler a, DDIM, DPM++ SDE Karras

โ ะะปั ะฟะปะฐะฒะฝัั ัะตะบัััั: Heun, DDIM, DPM++ SDE Karras

๐น DPM++ 2M Karras โ ะพะดะธะฝ ะธะท ะปัััะธั ะฑะฐะปะฐะฝัะฝัั ะฒะฐัะธะฐะฝัะพะฒ ะดะปั ะดะตัะฐะปะธะทะธัะพะฒะฐะฝะฝัั ะธะทะพะฑัะฐะถะตะฝะธะน.

๐น Euler a โ ะปัััะธะน ะฒัะฑะพั, ะตัะปะธ ัะพัะตััั ะฑะพะปััะต ะบัะตะฐัะธะฒะฝะพััะธ ะธ ัะปััะฐะนะฝะพััะธ.
